<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>instanceTeam - Random Team Generator | Create Balanced Teams Instantly</title>
    <meta name="description" content="instanceTeam is a free online tool to create random, balanced teams with custom labels. Perfect for sports, games, projects, and classroom activities.">
    <meta name="keywords" content="random team generator, team maker, create teams, balanced teams, team distribution, team sorter, team builder">
    <meta name="author" content="instanceTeam">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="instanceTeam - Random Team Generator">
    <meta property="og:description" content="Create random, balanced teams instantly with our free team generator. Add custom labels and distribute players evenly.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://instanceteam.com">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://instanceteam.com">
    
    <style>
        :root {
            --purple: #8a2be2;
            --purple-light: #9d4edd;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: var(--purple);
            margin-bottom: 20px;
        }
        
        .tagline {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        
        .input-section {
            margin-bottom: 30px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }
        
        input, select {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .person-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }
        
        .person-row input[type="text"] {
            flex: 1;
        }
        
        .person-row .label-input {
            flex: 1;
        }
        
        .add-person-btn {
            background-color: var(--purple);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .remove-person-btn {
            background-color: #ff4d4d;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .add-person-btn:hover {
            background-color: var(--purple-light);
        }
        
        .remove-person-btn:hover {
            background-color: #ff6666;
        }
        
        .team-count-container {
            margin: 20px 0;
        }
        
        button.generate-btn {
            background-color: var(--purple);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: background-color 0.3s;
            display: block;
            margin: 20px auto;
        }
        
        button.generate-btn:hover {
            background-color: var(--purple-light);
        }
        
        .results-section {
            margin-top: 30px;
        }
        
        .teams-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .team {
            background-color: #f9f9f9;
            border-radius: 5px;
            padding: 15px;
            border-left: 4px solid var(--purple);
        }
        
        .team h3 {
            color: var(--purple);
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        
        .team ul {
            list-style-position: inside;
            padding-left: 10px;
        }
        
        .team .person-label {
            font-size: 0.85em;
            color: #666;
            font-style: italic;
            margin-left: 5px;
        }
        
        .history-section {
            margin-top: 40px;
            border-top: 2px solid #eee;
            padding-top: 20px;
        }
        
        .history-section h2 {
            color: var(--purple);
            margin-bottom: 15px;
        }
        
        .history-item {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .history-item h3 {
            color: #555;
            margin-bottom: 10px;
        }
        
        .error {
            color: red;
            margin-bottom: 15px;
        }
        
        .info-text {
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
            font-size: 0.9rem;
        }
        
        .how-it-works {
            margin: 40px 0;
            padding: 20px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        
        .how-it-works h2 {
            color: var(--purple);
            margin-bottom: 15px;
        }
        
        .how-it-works ol {
            padding-left: 20px;
        }
        
        .how-it-works li {
            margin-bottom: 10px;
        }
        
        @media (max-width: 600px) {
            .person-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .person-row .add-person-btn,
            .person-row .remove-person-btn {
                align-self: flex-end;
                margin-top: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>instanceTeam</h1>
        <p class="tagline">Create balanced random teams instantly with our free team generator</p>
        
        <div class="input-section">
            <label>Enter Names and Optional Labels:</label>
            <div id="peopleContainer">
                <div class="person-row">
                    <input type="text" class="name-input" placeholder="Enter name">
                    <input type="text" class="label-input" placeholder="Labels (e.g., pro player, striker)">
                    <button type="button" class="add-person-btn" title="Add another person">+</button>
                </div>
            </div>
            <p class="info-text">For multiple labels, separate them with commas (e.g., "pro player, striker, captain")</p>
            
            <div class="team-count-container">
                <label for="teamCount">Number of Teams:</label>
                <input type="number" id="teamCount" min="1" value="2">
            </div>
            
            <div id="errorMessage" class="error"></div>
            
            <button class="generate-btn" id="generateBtn">Generate Teams</button>
        </div>
        
        <div class="results-section">
            <h2>Current Teams</h2>
            <div id="teamsContainer" class="teams-container">
                <p>Teams will appear here after generation.</p>
            </div>
        </div>
        
        <div class="history-section">
            <h2>Generation History</h2>
            <div id="historyContainer">
                <p>Previous team generations will appear here.</p>
            </div>
        </div>
        
        <div class="how-it-works">
            <h2>How instanceTeam Works</h2>
            <ol>
                <li><strong>Enter names</strong> - Add the names of all participants</li>
                <li><strong>Add labels</strong> - Optionally add labels like "pro player" or "beginner" to each person</li>
                <li><strong>Set team count</strong> - Choose how many teams you want to create</li>
                <li><strong>Generate teams</strong> - Our algorithm creates balanced teams, distributing people with the same labels across different teams</li>
                <li><strong>View history</strong> - See previous team generations during your session</li>
            </ol>
            <p>instanceTeam is perfect for sports teams, classroom activities, project groups, gaming sessions, and more!</p>
        </div>
        
        <footer class="footer">
            <p>&copy; 2023 instanceTeam - The Ultimate Random Team Generator | Create fair and balanced teams instantly</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const peopleContainer = document.getElementById('peopleContainer');
            const teamCountInput = document.getElementById('teamCount');
            const generateBtn = document.getElementById('generateBtn');
            const teamsContainer = document.getElementById('teamsContainer');
            const historyContainer = document.getElementById('historyContainer');
            const errorMessage = document.getElementById('errorMessage');
            
            let generationHistory = [];
            let generationCount = 0;
            
            // Add event listener to the first "Add Person" button
            document.querySelector('.add-person-btn').addEventListener('click', addPersonRow);
            
            // Function to add a new person row
            function addPersonRow() {
                const newRow = document.createElement('div');
                newRow.className = 'person-row';
                
                const nameInput = document.createElement('input');
                nameInput.type = 'text';
                nameInput.className = 'name-input';
                nameInput.placeholder = 'Enter name';
                
                const labelInput = document.createElement('input');
                labelInput.type = 'text';
                labelInput.className = 'label-input';
                labelInput.placeholder = 'Labels (e.g., pro player, striker)';
                
                const removeBtn = document.createElement('button');
                removeBtn.type = 'button';
                removeBtn.className = 'remove-person-btn';
                removeBtn.title = 'Remove this person';
                removeBtn.textContent = '−';
                removeBtn.addEventListener('click', function() {
                    peopleContainer.removeChild(newRow);
                });
                
                const addBtn = document.createElement('button');
                addBtn.type = 'button';
                addBtn.className = 'add-person-btn';
                addBtn.title = 'Add another person';
                addBtn.textContent = '+';
                addBtn.addEventListener('click', addPersonRow);
                
                newRow.appendChild(nameInput);
                newRow.appendChild(labelInput);
                newRow.appendChild(removeBtn);
                newRow.appendChild(addBtn);
                
                // Replace the add button in the last row with a remove button
                const lastRow = peopleContainer.lastElementChild;
                const lastAddBtn = lastRow.querySelector('.add-person-btn');
                if (lastAddBtn) {
                    lastRow.removeChild(lastAddBtn);
                }
                
                peopleContainer.appendChild(newRow);
            }
            
            generateBtn.addEventListener('click', function() {
                // Clear previous error messages
                errorMessage.textContent = '';
                
                // Get all people and their labels
                const people = [];
                const nameInputs = document.querySelectorAll('.name-input');
                const labelInputs = document.querySelectorAll('.label-input');
                
                for (let i = 0; i < nameInputs.length; i++) {
                    const name = nameInputs[i].value.trim();
                    if (name) {
                        const labelsText = labelInputs[i].value.trim();
                        const labels = labelsText ? labelsText.split(',').map(label => label.trim()).filter(label => label) : [];
                        
                        people.push({
                            name: name,
                            labels: labels
                        });
                    }
                }
                
                if (people.length === 0) {
                    errorMessage.textContent = 'Please enter at least one name.';
                    return;
                }
                
                // Get team count
                const teamCount = parseInt(teamCountInput.value);
                if (isNaN(teamCount) || teamCount < 1) {
                    errorMessage.textContent = 'Please enter a valid number of teams (at least 1).';
                    return;
                }
                
                if (people.length < teamCount) {
                    errorMessage.textContent = 'You need at least as many people as teams.';
                    return;
                }
                
                // Generate random teams
                const teams = generateRandomTeams(people, teamCount);
                
                // Display current teams
                displayTeams(teams);
                
                // Add to history
                generationCount++;
                generationHistory.unshift({
                    id: generationCount,
                    teams: JSON.parse(JSON.stringify(teams))
                });
                
                // Update history display
                updateHistoryDisplay();
            });
            
            function generateRandomTeams(people, teamCount) {
                // First, shuffle all people randomly
                const shuffledPeople = [...people];
                for (let i = shuffledPeople.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffledPeople[i], shuffledPeople[j]] = [shuffledPeople[j], shuffledPeople[i]];
                }
                
                // Create empty teams
                const teams = Array.from({ length: teamCount }, () => []);
                
                // Group people by each label
                const labelGroups = {};
                
                shuffledPeople.forEach(person => {
                    if (person.labels && person.labels.length > 0) {
                        person.labels.forEach(label => {
                            if (!labelGroups[label]) {
                                labelGroups[label] = [];
                            }
                            // Only add the person once per label
                            if (!labelGroups[label].some(p => p.name === person.name)) {
                                labelGroups[label].push(person);
                            }
                        });
                    }
                });
                
                // Track which people have been assigned to teams
                const assignedPeople = new Set();
                
                // Distribute people with labels across teams
                // For each label group, distribute its members across different teams
                Object.entries(labelGroups).forEach(([label, group]) => {
                    // For each person in this label group
                    group.forEach(person => {
                        // Skip if this person has already been assigned
                        if (assignedPeople.has(person.name)) {
                            return;
                        }
                        
                        // Find the team with the fewest members
                        let minTeamSize = teams[0].length;
                        let minTeamIndex = 0;
                        
                        for (let i = 1; i < teams.length; i++) {
                            if (teams[i].length < minTeamSize) {
                                minTeamSize = teams[i].length;
                                minTeamIndex = i;
                            }
                        }
                        
                        // Add this person to the team with the fewest members
                        teams[minTeamIndex].push(person);
                        assignedPeople.add(person.name);
                    });
                });
                
                // Distribute people without labels or those not yet assigned
                shuffledPeople.forEach(person => {
                    // Skip if this person has already been assigned
                    if (assignedPeople.has(person.name)) {
                        return;
                    }
                    
                    // Find the team with the fewest members
                    let minTeamSize = teams[0].length;
                    let minTeamIndex = 0;
                    
                    for (let i = 1; i < teams.length; i++) {
                        if (teams[i].length < minTeamSize) {
                            minTeamSize = teams[i].length;
                            minTeamIndex = i;
                        }
                    }
                    
                    // Add this person to the team with the fewest members
                    teams[minTeamIndex].push(person);
                    assignedPeople.add(person.name);
                });
                
                return teams;
            }
            
            function displayTeams(teams) {
                teamsContainer.innerHTML = '';
                
                teams.forEach((team, index) => {
                    const teamDiv = document.createElement('div');
                    teamDiv.className = 'team';
                    
                    const teamTitle = document.createElement('h3');
                    teamTitle.textContent = `Team ${index + 1}`;
                    teamDiv.appendChild(teamTitle);
                    
                    const membersList = document.createElement('ul');
                    team.forEach(person => {
                        const listItem = document.createElement('li');
                        listItem.textContent = person.name;
                        
                        if (person.labels && person.labels.length > 0) {
                            const labelSpan = document.createElement('span');
                            labelSpan.className = 'person-label';
                            labelSpan.textContent = `(${person.labels.join(', ')})`;
                            listItem.appendChild(labelSpan);
                        }
                        
                        membersList.appendChild(listItem);
                    });
                    
                    teamDiv.appendChild(membersList);
                    teamsContainer.appendChild(teamDiv);
                });
            }
            
            function updateHistoryDisplay() {
                if (generationHistory.length === 0) {
                    historyContainer.innerHTML = '<p>No previous generations yet.</p>';
                    return;
                }
                
                historyContainer.innerHTML = '';
                
                generationHistory.forEach(generation => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    
                    const historyTitle = document.createElement('h3');
                    historyTitle.textContent = `Generation #${generation.id}`;
                    historyItem.appendChild(historyTitle);
                    
                    const teamsDiv = document.createElement('div');
                    teamsDiv.className = 'teams-container';
                    
                    generation.teams.forEach((team, index) => {
                        const teamDiv = document.createElement('div');
                        teamDiv.className = 'team';
                        
                        const teamTitle = document.createElement('h3');
                        teamTitle.textContent = `Team ${index + 1}`;
                        teamDiv.appendChild(teamTitle);
                        
                        const membersList = document.createElement('ul');
                        team.forEach(person => {
                            const listItem = document.createElement('li');
                            listItem.textContent = person.name;
                            
                            if (person.labels && person.labels.length > 0) {
                                const labelSpan = document.createElement('span');
                                labelSpan.className = 'person-label';
                                labelSpan.textContent = `(${person.labels.join(', ')})`;
                                listItem.appendChild(labelSpan);
                            }
                            
                            membersList.appendChild(listItem);
                        });
                        
                        teamDiv.appendChild(membersList);
                        teamsDiv.appendChild(teamDiv);
                    });
                    
                    historyItem.appendChild(teamsDiv);
                    historyContainer.appendChild(historyItem);
                });
            }
        });
    </script>
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "instanceTeam",
      "url": "https://instanceteam.com",
      "description": "A free online tool to create random, balanced teams with custom labels. Perfect for sports, games, projects, and classroom activities.",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "All",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Random team generation",
        "Custom player labels",
        "Balanced team distribution",
        "Multiple team support",
        "Generation history"
      ]
    }
    </script>
</body>
</html>
